---
title: RTO技术：流程工业的AI
lang: zh-CN
date: 2025-05-13 10:18:21
author: 田健辉
cover: 
tags:
---

# RTO技术：流程工业的AI

2023-07-27 15:49:54 作者：田健辉 来源：《中国石油和化工》杂志社


自2016年国内第一套由国内技术力量建设的稳态RTO系统—镇海炼化乙烯裂解装置RTO系统投用以来，RTO技术因其能给企业带来持续、高额的回报，能够极大提高装置操作的自动化和智能化水平而被石油化工企业广为关注。

RTO(Real Time Optimizer)是实时在线优化技术的英文简称，是指设定一定的优化目标，让装置操作围绕该目标实时、在线优化的一种技术。RTO技术是实现石油化工企业装置操作智能化的主要技术路径。RTO以现场操作数据、产品及原料分析数据、物料价格数据为计算输入，以工艺模型为计算依据，以效益最大化为目标，对生产装置关键操作参数进行优化计算并自动执行，使装置始终处于最佳收益的运行状态。用形象的话说，RTO技术就是流程工业的无人驾驶技术，是流程工业的AI。

表1：RTO技术与无人驾驶技术的比较
| 对象 | 优化目标 | 约束条件 | 信息感知（输入） | 优化变量（输出） |
|---|---|---|---|---|
| 无人驾驶 | 到达目的地时间最短 | - 道路规则<br>- 驾驶安全<br>- 交通规则<br>- 设备性能 | - 雷达信息<br>- 照相视频<br>- GPS 道路<br>- 拥堵信息 | - 速度<br>- 方向<br>- 开/停状态 |
| RTO | 效益最大化 | - 参数安全操作边界<br>- 质量指标约束<br>- 能耗指标约束<br>- 设备性能约束<br>- 进料量/产量约束<br>- 化工机理约束 | - 原料在线分析<br>- 产品或中间产品在线分析<br>- 当前操作参数<br>- 当前价格体系 | - 关键控制参数（反应温度、反应分压、空速、压缩机转速、灵敏板温度、塔顶/侧线/塔釜回流量、温度、采出量） |


## RTO技术分类

　　RTO按技术实现路径分为稳态实时优化技术、动态实时优化技术和基于神经网络的实时优化技术3种。

　　稳态实时优化技术基于的模型是工艺全过程的严格机理模型，这种全过程机理模型既包括工艺过程每个设备的机理模型，也包括物质沿工艺过程在不同设备间的传递也是按机理建模，稳态实时优化技术一般是小时级优化。

　　动态实时优化技术一般用数学回归的方法对工艺过程进行建模，也有一些动态优化技术将装置中的部分设备用机理模型进行表达，但物质沿工艺过程间的传递是数学回归模型，这种方法大大简化了模型，提高了计算效率，优化频次可以做到分钟级，但计算结果的合理性无法保障，故动态优化技术通过“后馈纠偏”的方法改善计算的合理性。

　　神经网络模型的总体方法与动态实时优化技术类似，只是单台设备的模型采用神经网络模型进行建立，同样存在计算结果合理性无法保障的问题，特别是当实际工况不在神经网络的样本范围内、需要外延计算时，计算偏差很大。

表2：RTO技术对比

| 技术类型 | 稳态实时优化技术 | 动态实时优化技术 | 基于神经网络的实时优化技术 |
|---|---|---|---|
| 技术特点 | 全流程严格机理模型；优化过程中， 需要对装置进行稳态检测；优化周期（小时级）；可以离线或在线运行；非线性优化；利用机理和优化算法进行数据调和 | 主要是APC的协同优化，以数学模型为主；不对装置进行稳态检测；优化周期（分钟级）；支持或非线性优化；用历史方法进行数据调和和参数优化 | 利用现场历史数据和流程模拟数据做样本回归设备神经网络模型；当生产工况超出神经网络模型范围时，用外延法进行计算，可能会出现较大的偏差；因为国内频优化生产原料更新快，神经网络模型失效速度快，需要持续维护 |
| 适用场景 | 单装置在线优化、模拟离线模拟 | 多装置区域优化 | 单装置优化 |
| 代表软件 | AVEVA的ROMeo、AspenTech公司的RT-OPT | AspenTech的GDOT，Honeywell的Profit Optimizer | 曼彻斯特大学 |



整体而言，稳态实时优化技术无论是单台设备还是整个工艺过程的描述都更加符合化工机理，虽然稳态优化方程规模大、计算效率低，但更容易让企业和工艺人员理解和接受，故国内外企业采用的实时优化技术大多是稳态实时优化技术。

## 三大核心技术

　　RTO有三大核心技术：遵循化工严格机理对工艺过程精确描述、模型在线整定技术以保障模型精度持续可靠、强大的优化求解技术保障大规模非线性方程矩阵快速求解。

　　精确描述工艺过程。与流程模拟技术类似，RTO软件可对物流、反应器、塔器、换热设备(换热器、冷却器、加热炉)、压力转化设备(泵、压缩机、阀门)基于严格机理建模，使得模型可以较为准确的模拟化工过程的化学、物理变化。RTO模型可保障物质沿工艺过程遵循质量平衡、热量平衡和动量守恒。

　　模型在线整定。随着催化剂失活、设备结垢、结焦或磨损，RTO模型中的结构参数也需要随之调整才能与生产实际匹配。RTO具有模型结构参数在线整定功能，可对仪表和模型结构参数(如：换热系数、板效率、反应动力学参数等)进行在线的、自动的整定。在线整定通过规定原料条件、产品条件和操作条件，反向调整需整定的模型结构参数或仪表测量变量，使得模拟计算值与实际测量值匹配，从而找出需整定变量参数的合理值。

　　快速求解非线性方程矩阵。RTO模型所生成的方程规模巨大。如某装置的RTO模型包括12万个变量、12万个方程式，数据矩阵中超过426万个非零值，且大多是非线性方程，部分方程是微分方程甚至偏微分方程，RTO软件一般利用正交配置的方法对微分方程离散化，利用SQP进行求解，一般能在10分钟左右完成优化求解计算。

## 与相关技术的关系

### RTO与APC的关系

　　APC(先进过程控制)本质是个控制技术，靠建立数学模型，对装置进行卡边操作、保证产品质量合格。APC不能自动给出装置的最佳操作方案，需要靠操作员凭经验人工设定操作变量(CV)的卡边范围，再由CV和MV(操纵变量)的增益关系转化成具体操纵变量的值进行执行。

　　RTO是优化技术，且基于严格机理建立模型，而不是数学模型。RTO代替优化工程师在线计算装置关键操作变量的最佳值，也即自动给出装置的最佳操作方案。

　　“RTO模型+APC”构成的在线、实时优化、闭环控制系统。其中RTO模型负责优化计算，具体流程为：操作数据及在线分析数据→DCS→实时数据库→RTO模型→得出受控变量(CV)最优解。而APC负责执行操作变量最优解，具体流程为：RTO求解的受控变量(CV)最优解→实时数据库→进入APC并作为APC的CV值的设定值→APC求解操控变量(MV)值→DCS执行。

### RTO技术与流程模拟的关系

　　流程模拟用于对工艺过程的模拟计算，而非优化计算。RTO技术用于对工艺过程的优化计算，而且是在线自动优化计算。目的是实现工艺过程由“人优化控制”向“人机协同优化控制”的转变。

　　两者在模型构成的方式及求解方法上也有很大的区别。RTO采用EO(联立方程)模型及SQP(序列二次规划)算法求解，而流程模拟是基于序贯法求解。

　　RTO技术是流程模拟技术的继承，二者采用一致的热力学模型，均基于严格机理，两者分别从离线和在线角度共同支撑了企业装置操作优化工作。

### RTO技术与计划优化技术的关系

　　计划优化一般基于线性规划技术建模，计划优化是从全局、从整体考虑全厂物料分配的优化、装置加工负荷的优化、产品产量和品种的优化。计划优化是离线优化。

　　RTO技术是装置操作优化的工具，用来计算装置运行效益最大化下的操作方案。RTO的模型是基于机理的非线性模型，求解器也是非线性优化求解器。RTO是在线优化。

　　RTO作为生产计划向操作控制转换的纽带，它接收计划或调度排产中装置投入产出的指标要求作为其优化模型的约束条件，以效益最大化为目标转化求解对应装置的操作方案;两者处在不同层次但内在统一的炼化生产优化体系中。

表3：裂解炉优化对比表

| 裂解炉序号     | 1     | 2     | 3     | 4     | 5     | 6     | 7     | 8     |
|----------------|-------|-------|-------|-------|-------|-------|-------|-------|
| 投料类型       | NAP   | HCR   | HCR   | NAP   | NAP   | NAP   | LNAP  | LNAP  |
| 优化前运行天数 | 34    | 20    | 15    | 52    | 45    | 77    | 13    | 108   |
| 进料量 优化前  | 41.0  | 44.2  | 45.0  | 40.0  | 40.4  | 40.2  | 28.1  | 28.3  |
| 进料量 优化后  | 39.5  | 43.0  | 45.0  | 41.5  | 39.3  | 41.5  | 27.9  | 28.5  |
| 裂解深度 优化前| 0.53  | 0.59  | 0.57  | 0.53  | 0.53  | 0.53  | 0.52  | 0.52  |
| 裂解深度 优化后| 0.52  | 0.57  | 0.56  | 0.54  | 0.518 | 0.505 | 0.50  | 0.495 |
| 稀释比 优化前  | 0.56  | 0.79  | 0.84  | 0.5   | 0.5   | 0.5   | 0.56  | 0.56  |
| 稀释比 优化后  | 0.56  | 0.84  | 0.84  | 0.56  | 0.56  | 0.56  | 0.56  | 0.56  |
| 高附收率 优化前| 58.31 | 57.21 | 57.98 | 58.68 | 57.98 | 58.69 | 60.97 | 60.99 |
| 高附收率 优化后| 58.79 | 58.19 | 58.47 | 59.22 | 58.76 | 59.65 | 61.75 | 61.81 |
| 高附收率 增量  | 0.48  | 0.98  | 0.50  | 0.54  | 0.78  | 0.96  | 0.78  | 0.83  |


## RTO技术的应用

RTO技术一经推出，在全球石油化工企业迅速推广。上世纪90年代，先是在北美的先进炼厂进行应用，如壳牌的北美炼厂、埃克森美孚、BP、巴斯夫等。进入21世纪，开始在亚太、南美的先进炼厂推广应用，如SK、GS Caltex、巴西石油、Reliance。2013年起，中国石化开始推进RTO系统建设，首先建设的是乙烯装置，目前镇海炼化、燕山石化、茂名石化的乙烯装置RTO系统已经投用，普遍达到了吨乙烯

20元以上的收益。2019年中国石化开始启动炼油装置的RTO试点建设，首批试点装置为镇海炼化的连续重整装置、齐鲁石化的常减压装置、扬子石化的常减压装置，目前已达到在线开环运行条件。

笔者以具体应用实例来分别介绍RTO技术在实时优化和数字孪生方面的应用。

### RTO技术在线实时优化应用

某炼化企业乙烯裂解装置加工能力为120万吨/年，由于装置原料的种类多，产品的分布广，装置效益受市场波动和原料波动的影响比较大。为了响应市场价格波动及原料波动，及时优化装置产品分布从而取得更好的效益，该企业在2013年实施了乙烯裂解装置RTO在线实时优化项目。

该项目中，RTO建模范围包括进料分配系统、裂解炉、急冷系统、压缩系统和分离系统，共涉及反应炉11台，塔、罐、压缩机、泵和阀门等设备285台，换热模块541个，测量仪表1127块;建立优化变量112个，约束变量124个;RTO模型规模达到12万个变量、12万个方程式。系统上线后RTO模型每间隔3小时进行一次优化计算，优化结果作传递给APC作为CV的设定值，APC以此设定值为目标，在15分钟内完成操作调节，达到设定目标。

2015年该系统进行了标定，模型收敛率达到85%以上，吨乙烯增效达26.34元，折算装置全年增效达3091万元。从优化方向来看，该乙烯装置投用RTO后，装置操作总是向最大化生产乙烯、丙烯等高附加值产品方向优化。

以乙烯裂解炉的操作优化为例。该系统中裂解炉的优化变量包括：裂解深度(丙烯/乙烯)、COT、稀释比、每台裂解炉的进料流量。实际运行优化效果如下表所示，表中统计了裂解炉优化前后主要优化变量的调整情况及有代表性的高附加值产品的收率情况。从表中可以看出，通过对裂解深度、稀释比等参数的优化，裂解炉的高附加值产品收率平均提高了0.73%;在优化的拉动下，受进料总量不变的影响，高附加值产品收率高的裂解炉所分配的原料量有所提高，高附加值产品收率低的裂解炉所分配的原料量有所降低。标定阶段乙烯价格高于丙烯价格，导致裂解炉裂解深度(丙烯/乙烯)均向下调整，稀释比都有不同程度的提高，也即在多产乙烯、丙烯的前提下，适当提高乙烯产品的比例，以取得更大的效益。

### RTO技术数字孪生应用

利用RTO模型可以实现在线模拟、在线整定等功能，用于支持装置的数字孪生应用。从目前企业应用的情况来看，主要集中在仪表偏差的在线监测、设备性能的在线监测、工艺性能的在线计算及监控、APC增益的自动计算等方面。

在国内乙烯装置RTO建设项目中，一般都同步考虑了仪表偏差的在线监测功能。RTO系统的仪表整定功能，以原料条件和产品分布为约束条件，以各变量的计算值和测量值偏差最小化作为整定目标，进行求解。求解可得出变量的测量值和模型计算值偏差列表。可将偏差总是很大的变量进行输出，这些变量对应的仪表被高度怀疑测量偏差大，需要校表或更换。采用这种方法，RTO系统可对装置仪表的测量精度进行在线监控。如上节案例中，实施方在RTO建设过程中发现企业28台仪表偏差较大，企业进行了校表或维修处理;在乙烯RTO系统上线运行后，RTO系统定期推送仪表整定报告，提醒用户关注该装置偏差较大的仪表。

设备性能和工艺性能的在线监测主要利用了RTO模型可在线整定或在线模拟计算的功能。设备性能在线监测常见的包括：冷换设备的换热系数、塔板效率、机泵和压缩机效率等。工艺性能在线监测常见的包括：催化剂寿命、液泛、工艺节能等。埃克森美孚开展的数字孪生应用中，用RTO模型在线计算各换热器的总括换热系数，继而计算成污垢系数用于指导换热器清洗除垢工作。随着换热器运行，换热器管程或壳程结垢加剧使得污垢系数增加，导致换热器换热效果变差。当污垢系数增加到一定程度后产生报警，提醒用户及时清洗换热器进行除垢。图1显示的是埃克森美孚某常减压装置的4台原油与分馏塔侧线换热器用RTO模型在线计算污垢系数形成的曲线，图中可以看出紫色、橙色、绿色、红色对应的4台换热器垢系数开始都挺大，且随着时间推移持续上升。在时点1对红色、绿色曲线对应的换热器进行了清洗，二者污垢系数显著下降，紫、橙色换热器污垢系数仍维持较高水平并持续上升。在时点2对四个换热器同时进行清洗，所有换热器污垢系数显著下降。

![](https://cdn.jsdelivr.net/gh/makaspacex/PictureZone@main/uPic/E3iQEe.png)

近些年，国外有些炼化企业用RTO模型自动计算APC中MV(操控变量)对CV(受控变量)的增益，为APC模型日常维护提供数据支撑。传统APC的增益是基于阶跃测试的结果数学回归得到的，装置性能是动态变化的，增益关系也在发生变化，需要及时维护才能保证APC模型持续可靠。但阶跃测试对装置影响较大，可能会造成装置波动。RTO模型可以看作是与工艺装置高度吻合的仿真虚拟装置，其变量间关系符合工艺机理，可用该模型代替真实装置模拟阶跃测试，计算MV(操控变量)对CV(受控变量)的增益关系。韩国的GS Caltex炼厂利用该方法实现了APC各控制器增益关系的自动计算，当发现计算值与APC控制器实际设置值偏差较大时，就启动运维程序，更新APC增益。
(作者单位：石化盈科信息技术有限责任公司)